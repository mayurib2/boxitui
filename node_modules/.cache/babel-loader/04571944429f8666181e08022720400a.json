{"ast":null,"code":"var _jsxFileName = \"/Users/rkarnik/Documents/personal/mayuri_code/breakless-react/src/components/files/DeleteSuccessMessage.js\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { MDBTable, MDBTableBody, MDBTableHead } from 'mdbreact';\nimport { connect } from \"react-redux\";\nimport appConfig from \"../../config/app-config\";\nimport request from \"request\";\nimport './ViewFiles.css';\nimport cognitoUtils from \"../../lib/cognitoUtils\";\nimport axios from \"axios\";\n\nconst uuid = require('uuidv4').default;\n\nconst mapStateToProps = state => {\n  return {\n    session: state.session\n  };\n};\n\nclass DeleteSuccessMessage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      apiStatus: 'Not called'\n    };\n  }\n\n  componentDidMount() {\n    const file_detail_id = this.props.match.params.file_detail_id;\n    console.log(\"Inside DeleteSuccessMessage file_detail_id \", file_detail_id);\n    console.log(\"Inside DeleteSuccessMessage this.props.session.credentials.idToken \", this.props.session.credentials.idToken); // let delete_file_details_params = {\n    //     email: email,\n    //     unique_file_name: unique_file_name\n    // };\n\n    console.log(\"Call delete  delete_file_details_params = \");\n    axios.delete(\"\".concat(appConfig.apiUri, \"/file_details/\").concat(file_detail_id), {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': \"Bearer \".concat(this.props.session.credentials.idToken)\n      }\n    }).then(data => {\n      console.log(\"File delete successful\");\n    }).catch(err => {\n      console.log(\"Error while deleting file \", err);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"update-file-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, this.props.session.isLoggedIn ? React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Home\")), React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/files/view\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, \"View Uploaded Files\")), React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/files/upload\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Upload File\")), React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/files/update\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Update Existing File\"))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      method: \"post\",\n      action: \"#\",\n      id: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group files\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Upload Your File \"), React.createElement(\"input\", {\n      type: \"file\",\n      name: \"file\",\n      onChange: this.onChangeHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      onBlur: this.onBlurHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-success btn-block\",\n      onClick: this.onClickHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Upload\"))))), this.renderUploadResult(), React.createElement(\"a\", {\n      className: \"Home-link\",\n      href: \"#\",\n      onClick: this.onSignOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, \"Sign out\")) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"You are not logged in.\"), React.createElement(\"a\", {\n      className: \"Home-link\",\n      href: cognitoUtils.getCognitoSignInUri(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Sign in\")));\n  }\n\n}\n\nexport default connect(mapStateToProps)(DeleteSuccessMessage);","map":{"version":3,"sources":["/Users/rkarnik/Documents/personal/mayuri_code/breakless-react/src/components/files/DeleteSuccessMessage.js"],"names":["React","Component","Link","MDBTable","MDBTableBody","MDBTableHead","connect","appConfig","request","cognitoUtils","axios","uuid","require","default","mapStateToProps","state","session","DeleteSuccessMessage","constructor","props","apiStatus","componentDidMount","file_detail_id","match","params","console","log","credentials","idToken","delete","apiUri","headers","then","data","catch","err","render","isLoggedIn","onChangeHandler","onBlurHandler","onClickHandler","renderUploadResult","onSignOut","getCognitoSignInUri"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Link} from \"react-router-dom\";\nimport {MDBTable, MDBTableBody, MDBTableHead} from 'mdbreact';\nimport {connect} from \"react-redux\";\nimport appConfig from \"../../config/app-config\";\nimport request from \"request\";\nimport './ViewFiles.css'\nimport cognitoUtils from \"../../lib/cognitoUtils\";\nimport axios from \"axios\";\n\nconst uuid = require('uuidv4').default;\n\nconst mapStateToProps = state => {\n    return {session: state.session}\n}\n\nclass DeleteSuccessMessage extends Component {\n    constructor (props) {\n        super(props)\n        this.state = { apiStatus: 'Not called' }\n    }\n\n    componentDidMount() {\n        const { file_detail_id } = this.props.match.params;\n\n        console.log(\"Inside DeleteSuccessMessage file_detail_id \", file_detail_id);\n        console.log(\"Inside DeleteSuccessMessage this.props.session.credentials.idToken \", this.props.session.credentials.idToken);\n\n\n        // let delete_file_details_params = {\n        //     email: email,\n        //     unique_file_name: unique_file_name\n        // };\n        console.log(\"Call delete  delete_file_details_params = \",);\n\n        axios.delete(`${appConfig.apiUri}/file_details/${file_detail_id}`,\n\n            {\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${this.props.session.credentials.idToken}`\n                }\n            }\n        ).then((data) => {\n            console.log(\"File delete successful\");\n        }).catch((err) => {\n            console.log(\"Error while deleting file \",err);\n        });\n\n\n\n    }\n\n    render() {\n        return (\n            <div className=\"update-file-body\">\n                {this.props.session.isLoggedIn ? (\n                    <div className=\"container\">\n                        <div className=\"row\">\n                            <div className=\"col-md-3\">\n                                <Link to=\"/\">Home</Link>\n                            </div>\n                            <div className=\"col-md-3\">\n                                <Link to=\"/files/view\">View Uploaded Files</Link>\n                            </div>\n                            <div className=\"col-md-3\">\n                                <Link to=\"/files/upload\">Upload File</Link>\n                            </div>\n                            <div className=\"col-md-3\">\n                                <Link to=\"/files/update\">Update Existing File</Link>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"col-md-6\">\n                                <form method=\"post\" action=\"#\" id=\"#\">\n                                    <div className=\"form-group files\">\n                                        <label>Upload Your File </label>\n                                        <input type=\"file\" name=\"file\" onChange={this.onChangeHandler}/>\n                                        <input type=\"text\" onBlur={this.onBlurHandler}/>\n                                        <button type=\"button\" className=\"btn btn-success btn-block\"\n                                                onClick={this.onClickHandler}>Upload\n                                        </button>\n\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                        {this.renderUploadResult()}\n                        <a className=\"Home-link\" href=\"#\" onClick={this.onSignOut}>Sign out</a>\n                    </div>\n                ) : (\n                    <div>\n                        <p>You are not logged in.</p>\n                        <a className=\"Home-link\" href={cognitoUtils.getCognitoSignInUri()}>Sign in</a>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default connect(mapStateToProps)(DeleteSuccessMessage)\n"]},"metadata":{},"sourceType":"module"}