{"ast":null,"code":"var _jsxFileName = \"/Users/rkarnik/Documents/personal/mayuri_code/boxitui/src/components/files/DeleteButton.js\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { MDBTable, MDBTableBody, MDBTableHead } from 'mdbreact';\nimport { connect } from \"react-redux\";\nimport appConfig from \"../../config/app-config\";\nimport request from \"request\";\nimport './ViewFiles.css';\nimport cognitoUtils from \"../../lib/cognitoUtils\";\nimport axios from \"axios\";\n\nconst uuid = require('uuidv4').default;\n\nconst mapStateToProps = state => {\n  return {\n    session: state.session\n  };\n};\n\nclass DeleteButton extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.onClick = async function () {\n      try {\n        let fileDetailId = this.props.index;\n        console.log(\"Inside DeleteButton fileDetailId \", fileDetailId);\n        this.props.deleteFileRow(fileDetailId); // let delete_file_details_params = {\n        //     email: email,\n        //     unique_file_name: unique_file_name\n        // };\n\n        console.log(\"Call delete  delete_file_details_params = \");\n        let deleteFileDetails = await axios.delete(\"\".concat(appConfig.apiUri, \"/file_details/\").concat(fileDetailId), {\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': \"Bearer \".concat(this.props.session.credentials.idToken)\n          }\n        });\n        console.log(\"deleteFileDetails \", deleteFileDetails);\n      } catch (e) {\n        console.log(\"Error in delete button deleting file \", e);\n      }\n    };\n\n    this.render = function () {\n      return React.createElement(\"button\", {\n        onClick: () => {\n          this.onClick();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Delete\");\n    };\n  }\n\n}\n\nexport default connect(mapStateToProps)(DeleteButton);","map":{"version":3,"sources":["/Users/rkarnik/Documents/personal/mayuri_code/boxitui/src/components/files/DeleteButton.js"],"names":["React","Component","Link","MDBTable","MDBTableBody","MDBTableHead","connect","appConfig","request","cognitoUtils","axios","uuid","require","default","mapStateToProps","state","session","DeleteButton","onClick","fileDetailId","props","index","console","log","deleteFileRow","deleteFileDetails","delete","apiUri","headers","credentials","idToken","e","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,SAAQC,QAAR,EAAkBC,YAAlB,EAAgCC,YAAhC,QAAmD,UAAnD;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,OAAP,MAAoB,SAApB;AACA,OAAO,iBAAP;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,IAAI,GAAGC,OAAO,CAAC,QAAD,CAAP,CAAkBC,OAA/B;;AACA,MAAMC,eAAe,GAAGC,KAAK,IAAI;AAC7B,SAAO;AAACC,IAAAA,OAAO,EAAED,KAAK,CAACC;AAAhB,GAAP;AACH,CAFD;;AAIA,MAAMC,YAAN,SAA2BhB,SAA3B,CAAqC;AAAA;AAAA;;AAAA,SACjCiB,OADiC,GACvB,kBAAkB;AAExB,UAAI;AACA,YAAIC,YAAY,GAAG,KAAKC,KAAL,CAAWC,KAA9B;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAAgDJ,YAAhD;AACA,aAAKC,KAAL,CAAWI,aAAX,CAAyBL,YAAzB,EAHA,CAKA;AACA;AACA;AACA;;AACAG,QAAAA,OAAO,CAACC,GAAR,CAAY,4CAAZ;AAEA,YAAIE,iBAAiB,GAAG,MAAMf,KAAK,CAACgB,MAAN,WAAgBnB,SAAS,CAACoB,MAA1B,2BAAiDR,YAAjD,GAE1B;AACIS,UAAAA,OAAO,EAAE;AACL,4BAAgB,kBADX;AAEL,8CAA2B,KAAKR,KAAL,CAAWJ,OAAX,CAAmBa,WAAnB,CAA+BC,OAA1D;AAFK;AADb,SAF0B,CAA9B;AASAR,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCE,iBAAlC;AACH,OArBD,CAqBE,OAAOM,CAAP,EAAU;AACRT,QAAAA,OAAO,CAACC,GAAR,CAAY,uCAAZ,EAAqDQ,CAArD;AACH;AAEJ,KA5BgC;;AAAA,SA8BjCC,MA9BiC,GA8BxB,YAAY;AACjB,aACI;AAAQ,QAAA,OAAO,EAAE,MAAM;AACnB,eAAKd,OAAL;AACH,SAFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ;AAKH,KApCgC;AAAA;;AAAA;;AAuCrC,eAAeZ,OAAO,CAACQ,eAAD,CAAP,CAAyBG,YAAzB,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport {Link} from \"react-router-dom\";\nimport {MDBTable, MDBTableBody, MDBTableHead} from 'mdbreact';\nimport {connect} from \"react-redux\";\nimport appConfig from \"../../config/app-config\";\nimport request from \"request\";\nimport './ViewFiles.css'\nimport cognitoUtils from \"../../lib/cognitoUtils\";\nimport axios from \"axios\";\n\nconst uuid = require('uuidv4').default;\nconst mapStateToProps = state => {\n    return {session: state.session}\n}\n\nclass DeleteButton extends Component {\n    onClick = async function () {\n\n        try {\n            let fileDetailId = this.props.index;\n            console.log(\"Inside DeleteButton fileDetailId \",fileDetailId);\n            this.props.deleteFileRow(fileDetailId);\n\n            // let delete_file_details_params = {\n            //     email: email,\n            //     unique_file_name: unique_file_name\n            // };\n            console.log(\"Call delete  delete_file_details_params = \",);\n\n            let deleteFileDetails = await axios.delete(`${appConfig.apiUri}/file_details/${fileDetailId}`,\n\n                {\n                    headers: {\n                        'Content-Type': 'application/json',\n                        'Authorization': `Bearer ${this.props.session.credentials.idToken}`\n                    }\n                }\n            );\n            console.log(\"deleteFileDetails \", deleteFileDetails)\n        } catch (e) {\n            console.log(\"Error in delete button deleting file \", e);\n        }\n\n    }\n\n    render = function () {\n        return (\n            <button onClick={() => {\n                this.onClick()\n            }}>Delete</button>\n        )\n    }\n}\n\nexport default connect(mapStateToProps)(DeleteButton)\n"]},"metadata":{},"sourceType":"module"}